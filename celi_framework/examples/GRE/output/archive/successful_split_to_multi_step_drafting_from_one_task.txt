/Users/jwag/PycharmProjects/celi/.venv/bin/python /Users/jwag/PycharmProjects/celi/celi_framework/examples/GRE/main.py
2024-05-01 13:26:10,383 __main__ INFO - Running narratives app <-----
2024-05-01 13:26:10,384 app_logger DEBUG - Beginning document generation
2024-05-01 13:26:10,384 celi_framework.utils.codex INFO - Creating a new instance of MongoDBUtilitySingleton
2024-05-01 13:26:10,386 app_logger INFO - Sections (num) remaining after processing skip list: 1
2024-05-01 13:26:10,386 app_logger INFO - System message created:
You are a professional test taker AI agent. You have the ability to call outside functions.


I am going to give you step by step instructions on how to draft a free response to a test question.
Below you will find a json object that contains the index of test questions that need to be responded to.
The keys of the json are the questions numbers (q1) of the free response section of a test. The values are the respective topics.


Free response test sections to be responded to:
{'q1': 'Cooperation or competition'}


We will look at a completed example free response test section that is similar to the test to be worked on.
Its full content can be queried with a function (example_question_text_getter) and used as an example (in json format).
The keys of the json are the question numbers (q1) of the free response test section and the values contain the questions and answers.
Question n of the examples lines up with question n in the test section being worked on.




Task 1
Task_name: Retrieve prompt for question
Details: {'description': 'Find and retrieve the text for the prompt of the current test question.', 'tool_call': "Perform a function call to retrieve the question's prompt.", 'example_call': "{{'question_number': ['q1']}}", 'instructions': []}

Task 2
Task_name: Analyze and Understand the Example Prompt & Response
Details: {'description': 'This task involves a critical analysis of an example response to a prompt similar to the one retrieved in the previous step. The objective is to dissect and understand the structural components, argumentation style, and evidence utilization within the example. This analysis is essential for developing a strategy that aligns with high-scoring responses.', 'tool_call': 'Use a function call to retrieve the example prompt and response pair for analysis.', 'example_call': "{{'question_number': ['q1']}}", 'instructions': ['Retrieve an example prompt and response pair using the provided function call, ensuring it correlates with the question number of the current task.', 'Examine the structure of the response, noting the introduction, body, and conclusion arrangement.', 'Identify key argumentation techniques used in the response, noting how evidence is integrated to support claims.', 'Abstract strategies that are effective in addressing the prompt, including rhetorical devices, logical reasoning, and evidence presentation.'], 'additional_notes': ['Highlight any innovative or particularly effective methods used in the example that could be adapted for your response.', 'Consider the context in which the example was effective—cultural, educational, or disciplinary perspectives might influence how the response is crafted.']}

Task 3
Task_name: Develop Response Strategy
Details: {'description': 'Based on insights gained from the analysis of the example response, this task focuses on formulating a comprehensive strategy to address the current test question effectively. The strategy should integrate the key structural components, argumentative techniques, and evidence-handling methods identified previously to ensure a coherent and persuasive response.', 'instructions': ['Synthesize the findings from the previous analysis task into a cohesive strategy document.', 'Outline how each identified successful technique will be adapted to fit the specific requirements and context of the current prompt.', 'Develop a structured plan that specifies the introduction, development of arguments, integration of evidence, and conclusion.', "Ensure the strategy is flexible enough to accommodate potential variations in the prompt's requirements or unexpected insights gained during the drafting process."], 'additional_notes': ['The strategy should be documented clearly and concisely to serve as a guideline during the response drafting stage.', 'Consider peer review or feedback mechanisms if possible, to validate and refine the strategy before proceeding to draft.']}

Task 4
Task_name: Draft a Numbered Response Outline
Details: {'description': 'Utilizing the developed response strategy, this task involves drafting a detailed and numbered outline that maps out the structure of the intended response. This outline should mirror the logical flow, clarity, and analytical depth required by the prompt, serving as a foundational blueprint for the subsequent detailed drafting.', 'instructions': ['Start with an introduction that sets the context and states the thesis clearly.', 'List the main points that will form the body of the response, detailing the argument and evidence planned for each section.', 'Conclude with a summary that reinforces the thesis and encapsulates the main arguments made in the body.', 'Ensure each section is numbered and clearly delineated to facilitate easy navigation and organization during the drafting process.'], 'example': {'Example Outline Format': '1. Introduction with thesis statement\n2. Body section 1 with evidence point\n3. Body section 2 with another evidence point\n4. Conclusion'}, 'additional_notes': ['This outline should not only serve as a guide for drafting but also as a checklist to ensure all critical points are covered.', 'Revise the outline as necessary to reflect any new insights or adjustments in the response strategy.']}

Task 5
Task_name: Iteratively Draft Each Section of the Response
Details: {'description': 'This task involves the detailed drafting of each section of the response as outlined previously. The focus is on ensuring that each section is well-articulated, logically coherent, and supports the overarching thesis of the response. Iterative drafting allows for refinement and ensures alignment with the response strategy and outline.', 'instructions': ['Begin by drafting the introduction, setting the tone and context for the response, and clearly stating the thesis.', 'Proceed to draft each body section, elaborating on the main points with appropriate evidence and analysis as planned in the outline.', 'Ensure each body section is interconnected, smoothly transitioning to maintain a cohesive argument throughout.', 'Conclude with a strong summary that reiterates the thesis and synthesizes the main arguments discussed.', 'Review and revise each section iteratively to improve clarity, flow, and impact, making adjustments as necessary based on the evolving understanding of the topic.'], 'example': {'Example Drafted Section': 'Introduction: [Draft text of introduction here, emphasizing the thesis and setting the tone for the subsequent sections.]'}, 'additional_notes': ["This drafting process should be iterative; don't hesitate to revisit earlier sections as you gain more insight or as the argument develops.", 'Consider peer feedback on drafted sections to enhance clarity and effectiveness.']}

Task 6
Task_name: Synthesize Sections into a Draft
Details: {'description': 'After drafting individual sections, this task involves combining them into a single, cohesive final draft. The objective is to ensure that the document flows logically from introduction to conclusion, maintaining a unified argument that effectively addresses the prompt. This synthesis is crucial for ensuring that the response reads as a well-organized, integrated whole rather than as disjointed parts.', 'instructions': ['Combine the drafted sections starting with the introduction, followed by the body sections, and ending with the conclusion.', 'Ensure that transitions between sections are smooth and logical, enhancing the overall flow and readability of the document.', 'Check that the final draft maintains a consistent style, tone, and voice throughout, which are important for presenting a professional and coherent argument.', 'Review the entire document to ensure that it aligns with the response strategy and meets the structural and content expectations outlined previously.'], 'example': {'Model Response Example': 'Refer to the structure and length of the example response (essay) as a benchmark for the final draft.'}, 'additional_notes': ['Consider the overall narrative arc of the response to ensure it effectively builds towards a convincing conclusion.', 'Revisit the introduction after completing the body and conclusion to ensure it accurately reflects the depth and scope of the argument discussed.']}

Task 7
Task_name: Draft Review
Details: {'description': 'This final review task is crucial for ensuring that the complete document meets the established criteria, drawing on insights and structures developed in previous tasks. It involves a detailed comparison with a similar prompt-answer pair to check for structural and thematic consistency, ensuring the response aligns with standard response formats and expectations.', 'instructions': ["Use the 'retrieve_instructions' function to fetch a prompt and answer pair for a similar question, ensuring alignment with standard response formats and expectations.", 'Review each section of the document to confirm it follows the logical flow and depth outlined, comparing it with the retrieved example where necessary.', 'Check that the thesis is clearly stated in the introduction and is effectively supported throughout the body sections.', 'Verify that the conclusion effectively summarizes the arguments and reinforces the thesis.', 'Ensure that each section transitions smoothly into the next, maintaining a coherent narrative flow.', 'Assess the use of evidence to ensure it is pertinent and effectively integrated into the argument.'], 'additional_notes': ['Maintain originality in each section while addressing the specifics of the test question effectively.', 'Pay special attention to the synthesis of information from provided sources, ensuring accurate representation and logical argumentation.', 'Review formatting and grammar to ensure the document is well-presented and free of errors.', "\n            Here is typical feedback that you have received for a prior draft. Make sure you are addressing the previous concerns:\n            Based on the GRE® Scoring Guide provided, the essay you've written would likely receive a Score 5 (out of 6). Here's the rationale for this assessment:\n            \n            Clear and Well-Considered Position: The essay presents a clear and articulated position that cooperation rather than competition is essential for nurturing future leaders capable of tackling modern societal complexities. This aligns well with the task's requirements.\n            Development with Logically Sound Reasons and Examples: The position is developed using logically sound reasons and well-chosen examples, such as the collaboration on the international space station to illustrate effective teamwork leading to significant achievements. However, the depth of analysis and the variety of examples might benefit from further expansion to fully realize a score of 6.\n            Focus and Organization: The essay maintains a general focus and organization. It logically structures the argument from introduction through to conclusion, though there could be smoother transitions and a more nuanced exploration of competing viewpoints to enhance the logical flow and depth of analysis.\n            Clarity and Appropriateness of Language: The essay uses clear and appropriate language, employing a decent range of vocabulary and sentence structures. It conveys ideas effectively, although to achieve a score of 6, the essay could benefit from even more varied sentence structures and more precise vocabulary to enhance clarity and impact.\n            Conventions of Standard Written English: The essay demonstrates a good command of standard written English, with only minor errors. The grammatical structure is solid, supporting the overall clarity and readability of the essay.\n            A section is considered complete once there are no more revisions required. If there are revisions recommended then go back to Task Synthesize Sections into a Draft.\n            ", 'BE VERY CRITICIAL. TRY TO POKE HOLES AS MUCH AS YOU CAN. THE DRAFT NEEDS TO BE AT PHD DISSERTATION LEVEL SOPHISTICATION'], 'tool_call': 'Use a function to retrieve the instructions for this question', 'example_call': "{{'question_number': ['q1']}}", 'output_format': {'Section Review': 'Detailed feedback for each section', 'Draft Quality': 'Assessment of argumentation and evidence integration', 'Final Verdict': 'PASS or FAIL based on the established criteria', 'Additional Comments': 'Feedback on specific areas for improvement or commendation'}}

Task 8
Task_name: Revise with Review Output
Details: {'description': "This task focuses on redrafting the response based on the detailed feedback and assessments provided in the 'Draft Review' task. The objective is to refine the document to ensure it meets all established criteria, enhancing clarity, coherence, and argumentative strength based on the review outputs.", 'instructions': ["Analyze the feedback provided in the 'Section Review', 'Draft Quality', and 'Final Verdict' components from the Draft Review.", 'Identify key areas for improvement—these may include strengthening the argumentation, clarifying the thesis, enhancing the transitions between sections, or correcting grammatical and formatting errors.', 'Implement the necessary revisions in each section of the document, focusing on the areas highlighted in the feedback.', 'Revisit the evidence used in the response to ensure it aligns well with the thesis and supports the overall argument effectively.', 'Ensure that all revisions maintain the logical flow and coherence of the response, enhancing its overall persuasive impact.'], 'additional_notes': ['Keep track of changes made during this revision phase to facilitate further reviews if necessary.', 'Consider seeking additional feedback after revisions to ensure all issues have been adequately addressed and the response is as strong as possible.'], 'output_format': {'Revised Sections': 'Detailed documentation of changes made to each section', 'Improvements Made': 'List of improvements based on the feedback', 'Re-Review Needed': 'Indicate whether additional review is required after revisions'}}

Task 9
Task_name: Redraft
Details: {'description': 'Redraft with recommended revisions.', 'instructions': 'Look at revisions that are required and redraft.'}

Task 10
Task_name: Finish Essay
Details: {'description': 'Pop context to finish this question.', 'instructions': 'A section is considered complete once there are no more revisions required. If there are revisions recommended then go back to Task Synthesize Sections into a Draft - IN THIS CASE, DO NOT CALL pop_context.', 'tool_call': 'Use the pop_context function.', 'example_call': "{{'current_question_number': ['next_question_number']}}"}


============
General comments:
Explicitly print out the task you are completing currently.
Explicitly provide a detailed and appropriate response for every task.
The most important thing for you to understand: The primary goal of the tasks is to answer the test question that you have been presented.
A section is considered complete once there are no more revisions required. If there are revisions recommended then go back to Task Synthesize Sections into a Draft.

If a function call returns an error then try again with parameters, or make a different function call.
If task has not completed successfully, try again with an altered response.
If you encounter empty messages repeatedly in the chat history, reorient yourself by revisiting the last task completed. Check that the sequence of past tasks progresses in logical order. If not, assess and adjust accordingly.

Do not ever return a tool or function call with the name 'multi_tool_use.parallel'
=============

2024-05-01 13:26:10,386 app_logger INFO - Initialized Global Token Counter: master
2024-05-01 13:26:10,392 app_logger INFO - Stored controller template to codex
2024-05-01 13:26:10,392 app_logger INFO - Started a new iteration
2024-05-01 13:26:10,392 app_logger INFO - Token counter in decorator is None: None
2024-05-01 13:26:10,392 app_logger INFO - Calling LLM GPT-4-0125-PREVIEW
2024-05-01 13:26:11,645 httpx INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-01 13:26:11,648 app_logger INFO - LLM GPT-4-0125-PREVIEW responded
2024-05-01 13:26:11,649 app_logger INFO - New chat iteration:
Assistant:


Function:
Call to function retrieve_question_prompt with arguments {'question_number': 'q1'} returned
### Analytical Writing
####  Topic Directions
Plan and compose a response to the following issue. A response to any other issue will receive a score of zero. Make sure that you respond to the specific instructions and support your position on the issue with reasons and examples drawn from such areas as your reading, experience, observations, and/or academic studies.

Respond to the specific instructions on the issue
Consider the complexities of the issue
Organize, develop, and express your ideas
Support your position with relevant reasons and/or examples
Control the elements of standard written English

Before you begin writing, you may want to think for a few minutes about the issue and the instructions and then plan your response. Be sure to develop your position fully and organize it coherently, but leave time to reread what you have written and make any revisions you think are necessary.

##### Question 1
##### Topic:
The best way for a society to prepare its young people for leadership in government, industry, or other fields is by instilling in them a sense of cooperation, not competition.

Write a response in which you discuss the extent to which you agree or disagree with the claim. In developing and supporting your position, be sure to address the most compelling reasons or examples that could be used to challenge your position.


2024-05-01 13:26:11,649 app_logger INFO - Started a new iteration
2024-05-01 13:26:11,649 app_logger INFO - Token counter in decorator is None: None
2024-05-01 13:26:11,649 app_logger INFO - Calling LLM GPT-4-0125-PREVIEW
2024-05-01 13:26:13,120 httpx INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-01 13:26:13,121 app_logger INFO - LLM GPT-4-0125-PREVIEW responded
2024-05-01 13:26:13,122 app_logger INFO - New chat iteration:
Assistant:


Function:
Call to function retrieve_example_prompt_response with arguments {'question_number': 'q1'} returned
##### Question 1
##### Topic:
The best ideas arise from a passionate interest in commonplace things.

Write a response in which you discuss the extent to which you agree or disagree with the statement and explain your reasoning for the position you take. In developing and supporting your position, you should consider ways in which the statement might or might not hold true and explain how these considerations shape your position.



RESPONSE:

Passion is clearly necessary for a truly great idea to take hold among a people—passion either on the part of the original thinker, the audience, or ideally both. The claim that the most lucrative subject matter for inspiring great ideas is “commonplace things” may seem initially to be counterintuitive. After all, aren’t great ideas usually marked by their extraordinary character? While this is true, their extraordinary character is as often as not directly derived from their insight into things that had theretofore gone unquestioned. While great ideas certainly can arise through seemingly pure innovation . . . say, for example, Big Bang cosmology, which developed nearly all of its own scientific and philosophical precepts through its own process of formation, it is nevertheless equally true that such groundbreaking thought was, and is, still largely a reevaluation of previous assumptions to a radical degree . . . after all, the question of the ultimate nature of the universe, and man’s place in it, has been central to human thought since the dawn of time. Commonplace things are, additionally, necessary as material for the generation of “the best ideas” since certainly the success among an audience must be considered in evaluating the significance and quality of an idea.

The advent of Big Bang cosmology, which occured in rudimentary form almost immediately upon Edwin Hubble’s first observations at the Hooker telescope in California during the early 20th century, was the most significant advance in mankind’s understanding of the universe in over 400 years. The seemingly simple fact that everything in the universe, on the very large scale, is moving away from everything else in fact betrays nearly all of our scientific knowledge of the origins and mechanics of the universe. This slight, one might even say commonplace, distortion of tint on a handful of photographic plates carried with it the greatest challenge to Man’s general, often religiously reinforced, conception of the nature of the world to an extent not seen since the days of Galileo. Not even Charles Darwin’s theory, though it created more of a stir than Big Bang cosmology, had such shattering implications for our conceptions of the nature of our reality. Yet it is not significant because it introduced the question of the nature of what lies beyond Man’s grasp. A tremendous number of megalithic ruins, including the Pyramids both of Mexico and Egypt, Stonehenge, and others, indicate that this question has been foremost on humankind’s collective mind since time immemorial. Big Bang cosmology is so incredibly significant in this line of reasoning exactly because of the degree to which it changed the direction of this generally held, constantly pondered, and very ancient train of thought.

Additionally, there is a diachronic significance to the advent of Big Bang cosmology, which is that, disregarding limitations such as the quality of optical devices available and the state of theoretical math, it could have happened at any point in time. That is to say, all evidence points to roughly the same raw intellectual capacity for homo sapiens throughout our history, our progress has merely depended upon the degree of it that a person happens to inherit, a pace that has been increasing rapidly since the industrial revolution. Yet this discovery had to happen at a certain point in time or another—it cannot have been happening constantly or have never happened yet still be present—and this point in time does have its own significance. That significance is precisely the fact that the aforementioned advent must have occurred at precisely the point in time at which it truly could have occured—that is to say, it marks the point in our history when we had progressed sufficiently to begin examining, with remarkable substantiated acuity, the workings of the universe across distances that would take millions of human lifetimes to reach or to traverse. The point for the success of this advent must necessarily have been, additionally, the point at which the audience concerned was capable and prepared to accept such a radical line of reasoning.

Both factors, a radical, passionate interpretation of the commonplace and the preparedness to accept such an interpretation, are necessary for the formulation of a truly great idea. If the passion is absent from an inquiry by the thinker or by the bulk of an audience, the idea will die out if it comes to fruition at all. If the material is not sufficiently commonplace to be considered by an informed audience of sufficient size, the same two hazards exist. Given these two factors, the idea must still be found palatable and interesting by the audience if it is to hope to gain a foothold and eventually establish itself in a significant fashion.

2024-05-01 13:26:13,122 app_logger INFO - Started a new iteration
2024-05-01 13:26:13,122 app_logger INFO - Token counter in decorator is None: None
2024-05-01 13:26:13,122 app_logger INFO - Calling LLM GPT-4-0125-PREVIEW
2024-05-01 13:26:34,088 httpx INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-01 13:26:34,089 app_logger INFO - LLM GPT-4-0125-PREVIEW responded
2024-05-01 13:26:34,089 app_logger INFO - New chat iteration:
Assistant:
Analyzing and Understanding the Example Prompt & Response:

The example provided offers a comprehensive response to a prompt that, while different in subject, shares a similar requirement for critical thinking and argumentation as the prompt regarding cooperation versus competition. Here's a breakdown of the structural components, argumentation style, and evidence utilization within the example:

1. **Introduction**: The response begins with a clear thesis that acknowledges the necessity of passion for great ideas to emerge, focusing on commonplace things as the fertile ground for such ideas. This sets a clear direction for the argument that follows.

2. **Body Sections**:
   - The first body section discusses the concept of Big Bang cosmology as an example of a great idea arising from a reevaluation of commonplace observations (the movement of celestial bodies). This section effectively uses a historical and scientific example to support the thesis.
   - The second body section expands on the significance of Big Bang cosmology, emphasizing its impact on human understanding of the universe and its philosophical implications. This section demonstrates how a seemingly simple observation can lead to revolutionary ideas.
   - The third body section argues the necessity of both a passionate interpretation of commonplace material and an audience prepared to accept such interpretations for the formulation of truly great ideas. This section ties back to the thesis by highlighting the importance of commonality and passion in the genesis of significant ideas.

3. **Conclusion**: The response concludes by reinforcing the thesis, summarizing the main arguments made in the body, and emphasizing the conditions necessary for great ideas to take hold.

4. **Argumentation Techniques and Evidence Integration**:
   - The response integrates historical and scientific evidence to support its claims, making the argument both compelling and credible.
   - It uses logical reasoning to connect the significance of commonplace observations with the development of groundbreaking ideas, demonstrating a deep understanding of the topic.
   - The argument is structured in a way that each section builds upon the previous one, leading to a coherent and persuasive narrative.

5. **Effective Strategies**:
   - The use of specific, well-chosen examples (e.g., Big Bang cosmology) to illustrate key points.
   - A clear and logical structure that guides the reader through the argument.
   - The integration of evidence and examples to support claims, enhancing the argument's credibility.

From this analysis, several strategies can be abstracted for addressing the prompt on cooperation versus competition:
- Start with a clear thesis that directly addresses the prompt.
- Use specific examples from various fields (e.g., government, industry) to support the argument for cooperation over competition.
- Consider the counterarguments to provide a balanced view and strengthen the position by addressing potential challenges.
- Ensure the response is well-organized, with a logical flow from introduction through body sections to the conclusion.
- Integrate evidence and examples effectively to support claims, making the argument both persuasive and credible.

This analysis will serve as a foundation for developing a comprehensive response strategy to the current test question.
2024-05-01 13:26:34,089 app_logger INFO - Started a new iteration
2024-05-01 13:26:34,089 app_logger INFO - Token counter in decorator is None: None
2024-05-01 13:26:34,089 app_logger INFO - Calling LLM GPT-4-0125-PREVIEW
2024-05-01 13:27:01,515 httpx INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-01 13:27:01,516 app_logger INFO - LLM GPT-4-0125-PREVIEW responded
2024-05-01 13:27:01,516 app_logger INFO - New chat iteration:
Assistant:
Developing a Response Strategy for "Cooperation or Competition":

Based on the insights gained from the example response, here is a comprehensive strategy to address the prompt regarding the best way for a society to prepare its young people for leadership through instilling a sense of cooperation rather than competition:

1. **Introduction Strategy**:
   - Begin with a broad statement about the importance of leadership qualities in various fields such as government, industry, and other areas.
   - Introduce the thesis that fostering a sense of cooperation, rather than competition, is essential for preparing young people for effective leadership roles. This thesis will directly respond to the prompt and set the stage for the argument.

2. **Body Section Strategies**:
   - **Body Section 1**: Discuss the intrinsic value of cooperation in leadership development. Use examples from collaborative projects in government or industry (e.g., international space missions, collaborative research in medicine) to illustrate how cooperation leads to innovative solutions and achievements.
   - **Body Section 2**: Address the limitations and potential downsides of a competitive mindset in leadership, such as short-term gains at the expense of long-term sustainability and the risk of fostering environments that discourage teamwork and creativity.
   - **Body Section 3**: Explore the role of education and societal norms in shaping cooperative versus competitive mindsets. Argue for the integration of cooperative learning and teamwork-focused activities in educational curricula as a means to instill these values from a young age.
   - **Counterargument Section**: Acknowledge the potential benefits of healthy competition in motivating individuals and driving innovation, but argue that these benefits can be integrated within a cooperative framework that prioritizes collective success and ethical leadership.

3. **Conclusion Strategy**:
   - Summarize the main arguments made in the body sections, reinforcing the thesis that cooperation is more beneficial than competition in preparing future leaders.
   - Conclude with a forward-looking statement about the potential for societal growth and innovation through a cooperative approach, emphasizing the importance of nurturing these values in young people today.

4. **Evidence and Examples**:
   - Integrate specific, real-world examples to support each argument, drawing from recent successes in cooperative ventures and research that highlights the benefits of cooperative learning.
   - Use statistical data, historical examples, and contemporary case studies to provide a solid foundation for the argument.

5. **Flexibility and Adaptation**:
   - While the strategy outlines a clear path, remain open to integrating new insights or examples that may arise during the drafting process.
   - Be prepared to adjust the structure or depth of analysis in response to the flow of the argument and to ensure a balanced and comprehensive response.

This strategy aims to create a well-structured, persuasive, and evidence-backed response that aligns with the requirements of the prompt and demonstrates a deep understanding of the topic.
2024-05-01 13:27:01,517 app_logger INFO - Started a new iteration
2024-05-01 13:27:01,517 app_logger INFO - Token counter in decorator is None: None
2024-05-01 13:27:01,517 app_logger INFO - Calling LLM GPT-4-0125-PREVIEW
2024-05-01 13:27:26,295 httpx INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-01 13:27:26,297 app_logger INFO - LLM GPT-4-0125-PREVIEW responded
2024-05-01 13:27:26,297 app_logger INFO - New chat iteration:
Assistant:
Draft a Numbered Response Outline for "Cooperation or Competition":

1. **Introduction**
   - Start with a broad statement on the importance of leadership qualities in shaping the future of society in various fields such as government, industry, and other areas.
   - Introduce the thesis: Argue that instilling a sense of cooperation rather than competition in young people is the most effective way to prepare them for leadership roles.

2. **Body Sections**
   - **2.1 Value of Cooperation in Leadership Development**
     - Discuss how cooperation fosters innovation and problem-solving through examples of collaborative projects in government and industry (e.g., international space missions, collaborative research in medicine).
     - Highlight the benefits of diverse perspectives and teamwork in achieving common goals.

   - **2.2 Limitations of Competition in Leadership**
     - Examine the potential downsides of a competitive mindset, including short-term gains at the expense of long-term goals and the creation of environments that discourage teamwork.
     - Discuss the impact of competition on mental health and workplace culture.

   - **2.3 Role of Education and Societal Norms**
     - Argue for the importance of integrating cooperative learning and teamwork-focused activities in educational curricula to instill cooperative values from a young age.
     - Discuss how societal norms and values can shape individuals' preferences for cooperation or competition.

   - **2.4 Addressing Counterarguments**
     - Acknowledge the role of healthy competition in motivating individuals and driving innovation.
     - Argue that the benefits of competition can be integrated within a cooperative framework that prioritizes collective success and ethical leadership.

3. **Conclusion**
   - Summarize the main arguments made in the body, reinforcing the thesis that cooperation is crucial for preparing effective leaders.
   - Conclude with a statement on the potential for societal growth and innovation through a cooperative approach, emphasizing the importance of nurturing cooperative values in young people today.

This outline serves as a blueprint for drafting a detailed and coherent response that addresses the prompt effectively, integrating evidence and examples to support the argument for cooperation over competition in leadership development.
2024-05-01 13:27:26,297 app_logger INFO - Started a new iteration
2024-05-01 13:27:26,297 app_logger INFO - Token counter in decorator is None: None
2024-05-01 13:27:26,297 app_logger INFO - Calling LLM GPT-4-0125-PREVIEW
2024-05-01 13:27:34,897 httpx INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-01 13:27:34,898 app_logger INFO - LLM GPT-4-0125-PREVIEW responded
2024-05-01 13:27:34,898 app_logger INFO - New chat iteration:
Assistant:
Drafting the Introduction:

In today's rapidly evolving world, the qualities that define effective leadership in government, industry, and other fields are increasingly under scrutiny. As societies grapple with complex challenges ranging from climate change to global health crises, the need for leaders who can navigate these issues with foresight, empathy, and a collaborative spirit has never been more critical. Against this backdrop, the debate between fostering a sense of competition versus cooperation among the next generation of leaders takes on new significance. This essay posits that the best way for a society to prepare its young people for leadership roles is by instilling in them a sense of cooperation, not competition. By prioritizing collaborative skills and mutual understanding over individual achievement, we can cultivate leaders equipped to address the multifaceted problems of the 21st century with innovative and inclusive solutions.

This introduction sets the tone for the response, establishing the importance of leadership qualities in addressing contemporary societal challenges and introducing the thesis that cooperation is essential for preparing future leaders.
2024-05-01 13:27:34,898 app_logger INFO - Started a new iteration
2024-05-01 13:27:34,898 app_logger INFO - Token counter in decorator is None: None
2024-05-01 13:27:34,898 app_logger INFO - Calling LLM GPT-4-0125-PREVIEW
2024-05-01 13:27:48,510 httpx INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-01 13:27:48,511 app_logger INFO - LLM GPT-4-0125-PREVIEW responded
2024-05-01 13:27:48,511 app_logger INFO - New chat iteration:
Assistant:
Drafting Body Section 1: Value of Cooperation in Leadership Development

The intrinsic value of cooperation in the development of leadership skills cannot be overstated. In an era where global challenges demand collective action, the ability to work collaboratively across borders, disciplines, and cultures is paramount. One compelling example of this is the International Space Station (ISS) project, a symbol of what humanity can achieve when nations set aside their differences and compete not against each other, but towards a common goal. The ISS represents a monumental achievement in science and engineering, made possible only through the cooperation of multiple countries, each contributing their unique expertise and resources. This example underscores the fact that the most significant advancements often result from collaborative efforts rather than individual endeavors.

Furthermore, cooperation fosters an environment where diverse perspectives are valued and integrated, leading to more creative and effective solutions. In the business sector, companies that prioritize collaborative work cultures tend to innovate more rapidly and sustainably. Google, for instance, attributes much of its success to its open culture that encourages employees to work together and share ideas freely. This approach not only accelerates innovation but also enhances employee satisfaction and retention, proving that cooperation is beneficial not only for achieving external goals but for building strong, resilient organizations.

By emphasizing cooperation over competition, we prepare young leaders to thrive in a world where success is increasingly defined by the ability to unite people towards shared objectives. This shift in focus from individual achievement to collective progress is essential for tackling the complex, interconnected challenges of our time.
2024-05-01 13:27:48,511 app_logger INFO - Started a new iteration
2024-05-01 13:27:48,511 app_logger INFO - Token counter in decorator is None: None
2024-05-01 13:27:48,511 app_logger INFO - Calling LLM GPT-4-0125-PREVIEW
2024-05-01 13:28:04,764 httpx INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-01 13:28:04,765 app_logger INFO - LLM GPT-4-0125-PREVIEW responded
2024-05-01 13:28:04,765 app_logger INFO - New chat iteration:
Assistant:
Drafting Body Section 2: Limitations of Competition in Leadership

While competition has traditionally been viewed as a catalyst for excellence and innovation, its limitations, particularly in the context of leadership development, are becoming increasingly apparent. A competitive mindset, when taken to extremes, can foster environments that prioritize short-term wins over long-term sustainability and ethical considerations. This can lead to a culture of cutthroat competition, where the pressure to outperform peers overshadows the importance of teamwork, ethical practices, and the well-being of the community.

The adverse effects of excessive competition are evident in various sectors. In the corporate world, for instance, the relentless pursuit of profit and market dominance has sometimes led companies to engage in unethical practices, neglecting the welfare of their employees, consumers, and the environment. Such a focus on competition at the expense of cooperation undermines the potential for collaborative innovation and societal progress.

Moreover, a hyper-competitive environment can have detrimental effects on mental health, leading to stress, burnout, and a decrease in job satisfaction among employees. This not only affects individual well-being but also hampers productivity and creativity, ultimately detracting from the organization's overall performance.

In contrast, leadership models that emphasize cooperation and ethical conduct foster a more sustainable and inclusive approach to achieving success. By recognizing the limitations of competition and the value of collaborative efforts, societies can prepare young leaders to prioritize the greater good over personal gain, ensuring a more equitable and prosperous future for all.
2024-05-01 13:28:04,765 app_logger INFO - Started a new iteration
2024-05-01 13:28:04,765 app_logger INFO - Token counter in decorator is None: None
2024-05-01 13:28:04,765 app_logger INFO - Calling LLM GPT-4-0125-PREVIEW
2024-05-01 13:28:17,187 httpx INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-01 13:28:17,188 app_logger INFO - LLM GPT-4-0125-PREVIEW responded
2024-05-01 13:28:17,188 app_logger INFO - New chat iteration:
Assistant:
Drafting Body Section 3: Role of Education and Societal Norms

The foundation for instilling a sense of cooperation over competition in future leaders is laid early in life, significantly influenced by education and societal norms. Educational systems that prioritize cooperative learning over competitive grading systems play a crucial role in developing the collaborative skills necessary for effective leadership. Through group projects, peer learning, and community service initiatives, students learn the value of working together towards common goals, appreciating diverse perspectives, and resolving conflicts constructively.

Moreover, societal norms and values shape individuals' attitudes towards cooperation and competition from a young age. Cultures that celebrate collective achievements and emphasize the importance of community and mutual support tend to foster more cooperative individuals. In contrast, societies that idolize individual success and competitiveness may inadvertently encourage a mindset that views leadership as a zero-sum game, where one's gain is another's loss.

To prepare young people for leadership roles in a world that increasingly requires collaborative solutions to complex problems, it is essential to promote educational practices and societal values that prioritize cooperation. This includes integrating teamwork-focused activities into curricula, highlighting the achievements of collaborative efforts in history and current events, and creating public narratives that celebrate cooperation as a strength rather than a weakness.

By shifting the emphasis from competition to cooperation in education and societal norms, we can cultivate a generation of leaders who are not only equipped to navigate the challenges of the 21st century but are also committed to fostering inclusive, sustainable communities.
2024-05-01 13:28:17,188 app_logger INFO - Started a new iteration
2024-05-01 13:28:17,188 app_logger INFO - Token counter in decorator is None: None
2024-05-01 13:28:17,188 app_logger INFO - Calling LLM GPT-4-0125-PREVIEW
2024-05-01 13:28:29,978 httpx INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-01 13:28:29,980 app_logger INFO - LLM GPT-4-0125-PREVIEW responded
2024-05-01 13:28:29,980 app_logger INFO - New chat iteration:
Assistant:
Drafting the Conclusion:

In conclusion, the imperative to prepare young people for leadership roles in government, industry, and other fields through a sense of cooperation rather than competition has never been more critical. As illustrated through examples ranging from the International Space Station project to innovative corporate cultures, cooperation not only fosters innovation and problem-solving but also builds resilient, inclusive communities. The limitations of a competitive mindset, including its potential to undermine ethical considerations and mental well-being, further underscore the need for a cooperative approach to leadership development.

Education and societal norms play pivotal roles in shaping future leaders' attitudes towards cooperation. By prioritizing cooperative learning and emphasizing the value of collective achievements, we can instill in young people the collaborative skills and ethical sensibilities required to address the complex challenges of our time.

As we look towards the future, it is clear that the leaders who will navigate the uncertainties of the 21st century most effectively will be those who understand the power of cooperation. By preparing our young people with this understanding, we not only equip them to lead more effectively but also contribute to the creation of a more equitable, sustainable, and prosperous world for all.
2024-05-01 13:28:29,980 app_logger INFO - Started a new iteration
2024-05-01 13:28:29,980 app_logger INFO - Token counter in decorator is None: None
2024-05-01 13:28:29,980 app_logger INFO - Calling LLM GPT-4-0125-PREVIEW
2024-05-01 13:29:25,595 httpx INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-01 13:29:25,597 app_logger INFO - LLM GPT-4-0125-PREVIEW responded
2024-05-01 13:29:25,597 app_logger INFO - DRAFT DICT TEXT LOOKS LIKE THIS
{"q1": "In today's rapidly evolving world, the qualities that define effective leadership in government, industry, and other fields are increasingly under scrutiny. As societies grapple with complex challenges ranging from climate change to global health crises, the need for leaders who can navigate these issues with foresight, empathy, and a collaborative spirit has never been more critical. Against this backdrop, the debate between fostering a sense of competition versus cooperation among the next generation of leaders takes on new significance. This essay posits that the best way for a society to prepare its young people for leadership roles is by instilling in them a sense of cooperation, not competition. By prioritizing collaborative skills and mutual understanding over individual achievement, we can cultivate leaders equipped to address the multifaceted problems of the 21st century with innovative and inclusive solutions.\n\nThe intrinsic value of cooperation in the development of leadership skills cannot be overstated. In an era where global challenges demand collective action, the ability to work collaboratively across borders, disciplines, and cultures is paramount. One compelling example of this is the International Space Station (ISS) project, a symbol of what humanity can achieve when nations set aside their differences and compete not against each other, but towards a common goal. The ISS represents a monumental achievement in science and engineering, made possible only through the cooperation of multiple countries, each contributing their unique expertise and resources. This example underscores the fact that the most significant advancements often result from collaborative efforts rather than individual endeavors.\n\nFurthermore, cooperation fosters an environment where diverse perspectives are valued and integrated, leading to more creative and effective solutions. In the business sector, companies that prioritize collaborative work cultures tend to innovate more rapidly and sustainably. Google, for instance, attributes much of its success to its open culture that encourages employees to work together and share ideas freely. This approach not only accelerates innovation but also enhances employee satisfaction and retention, proving that cooperation is beneficial not only for achieving external goals but for building strong, resilient organizations.\n\nBy emphasizing cooperation over competition, we prepare young leaders to thrive in a world where success is increasingly defined by the ability to unite people towards shared objectives. This shift in focus from individual achievement to collective progress is essential for tackling the complex, interconnected challenges of our time.\n\nWhile competition has traditionally been viewed as a catalyst for excellence and innovation, its limitations, particularly in the context of leadership development, are becoming increasingly apparent. A competitive mindset, when taken to extremes, can foster environments that prioritize short-term wins over long-term sustainability and ethical considerations. This can lead to a culture of cutthroat competition, where the pressure to outperform peers overshadows the importance of teamwork, ethical practices, and the well-being of the community.\n\nThe adverse effects of excessive competition are evident in various sectors. In the corporate world, for instance, the relentless pursuit of profit and market dominance has sometimes led companies to engage in unethical practices, neglecting the welfare of their employees, consumers, and the environment. Such a focus on competition at the expense of cooperation undermines the potential for collaborative innovation and societal progress.\n\nMoreover, a hyper-competitive environment can have detrimental effects on mental health, leading to stress, burnout, and a decrease in job satisfaction among employees. This not only affects individual well-being but also hampers productivity and creativity, ultimately detracting from the organization's overall performance.\n\nIn contrast, leadership models that emphasize cooperation and ethical conduct foster a more sustainable and inclusive approach to achieving success. By recognizing the limitations of competition and the value of collaborative efforts, societies can prepare young leaders to prioritize the greater good over personal gain, ensuring a more equitable and prosperous future for all.\n\nThe foundation for instilling a sense of cooperation over competition in future leaders is laid early in life, significantly influenced by education and societal norms. Educational systems that prioritize cooperative learning over competitive grading systems play a crucial role in developing the collaborative skills necessary for effective leadership. Through group projects, peer learning, and community service initiatives, students learn the value of working together towards common goals, appreciating diverse perspectives, and resolving conflicts constructively.\n\nMoreover, societal norms and values shape individuals' attitudes towards cooperation and competition from a young age. Cultures that celebrate collective achievements and emphasize the importance of community and mutual support tend to foster more cooperative individuals. In contrast, societies that idolize individual success and competitiveness may inadvertently encourage a mindset that views leadership as a zero-sum game, where one's gain is another's loss.\n\nTo prepare young people for leadership roles in a world that increasingly requires collaborative solutions to complex problems, it is essential to promote educational practices and societal values that prioritize cooperation. This includes integrating teamwork-focused activities into curricula, highlighting the achievements of collaborative efforts in history and current events, and creating public narratives that celebrate cooperation as a strength rather than a weakness.\n\nBy shifting the emphasis from competition to cooperation in education and societal norms, we can cultivate a generation of leaders who are not only equipped to navigate the challenges of the 21st century but are also committed to fostering inclusive, sustainable communities.\n\nIn conclusion, the imperative to prepare young people for leadership roles in government, industry, and other fields through a sense of cooperation rather than competition has never been more critical. As illustrated through examples ranging from the International Space Station project to innovative corporate cultures, cooperation not only fosters innovation and problem-solving but also builds resilient, inclusive communities. The limitations of a competitive mindset, including its potential to undermine ethical considerations and mental well-being, further underscore the need for a cooperative approach to leadership development.\n\nEducation and societal norms play pivotal roles in shaping future leaders' attitudes towards cooperation. By prioritizing cooperative learning and emphasizing the value of collective achievements, we can instill in young people the collaborative skills and ethical sensibilities required to address the complex challenges of our time.\n\nAs we look towards the future, it is clear that the leaders who will navigate the uncertainties of the 21st century most effectively will be those who understand the power of cooperation. By preparing our young people with this understanding, we not only equip them to lead more effectively but also contribute to the creation of a more equitable, sustainable, and prosperous world for all."
Exception in thread Thread-1 (run):
Traceback (most recent call last):
  File "/Users/jwag/anaconda3/lib/python3.11/threading.py", line 1038, in _bootstrap_inner
    self.run()
  File "/Users/jwag/anaconda3/lib/python3.11/threading.py", line 975, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/jwag/PycharmProjects/celi/celi_framework/core/processor.py", line 669, in run
    self.process_iteration2()
  File "/Users/jwag/PycharmProjects/celi/celi_framework/core/processor.py", line 197, in process_iteration2
    tool_result = self.make_tool_calls(llm_response)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jwag/PycharmProjects/celi/celi_framework/core/processor.py", line 922, in make_tool_calls
    return [make_tool_call(_) for _ in response.message.tool_calls]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jwag/PycharmProjects/celi/celi_framework/core/processor.py", line 922, in <listcomp>
    return [make_tool_call(_) for _ in response.message.tool_calls]
            ^^^^^^^^^^^^^^^^^
  File "/Users/jwag/PycharmProjects/celi/celi_framework/core/processor.py", line 918, in make_tool_call
    function_return = method_to_call(**arguments)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jwag/PycharmProjects/celi/celi_framework/examples/GRE/tools.py", line 138, in save_draft
    draft_dict = json.loads(draft_dict)
                 ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jwag/anaconda3/lib/python3.11/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jwag/anaconda3/lib/python3.11/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jwag/anaconda3/lib/python3.11/json/decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Expecting ',' delimiter: line 1 column 7627 (char 7626)
2024-05-01 13:29:25,614 app_logger INFO - Threads completed. Exiting.

Process finished with exit code 0


------------

job_description:

"""
This module serves as a generic template. It is designed to be adaptable for
a broad range of reports and is not specific to any particular field.
The tasks, function calls, and methodologies described herein are intended to provide a foundational
structure for document analysis and drafting, which can be customized to meet the needs of various
reporting requirements.
"""

from celi_framework.core.job_description import JobDescription, Task

from tools import GREToolImplementations
from celi_framework.core.mt_factory import MasterTemplateFactory
from celi_framework.utils.utils import load_json

task_library = [
    Task(
        task_name="Retrieve prompt for question",
        details={
            "description": "Find and retrieve the text for the prompt of the current test question.",
            "tool_call": "Perform a function call to retrieve the question's prompt.",
            "example_call": "{{'question_number': ['q1']}}",
            "instructions": [
            ],
        },
    ),
    Task(
        task_name="Analyze and Understand the Example Prompt & Response",
        details={
            "description": "This task involves a critical analysis of an example response to a prompt similar to the one retrieved in the previous step. The objective is to dissect and understand the structural components, argumentation style, and evidence utilization within the example. This analysis is essential for developing a strategy that aligns with high-scoring responses.",
            "tool_call": "Use a function call to retrieve the example prompt and response pair for detailed analysis.",
            "example_call": "{{'question_number': ['q1']}}",
            "instructions": [
                "Retrieve an example prompt and response pair using the provided function call, ensuring it correlates with the question number of the current task.",
                "Examine the structure of the response, noting the introduction, body, and conclusion arrangement.",
                "Identify key argumentation techniques used in the response, noting how evidence is integrated to support claims.",
                "Abstract strategies that are effective in addressing the prompt, including rhetorical devices, logical reasoning, and evidence presentation."
            ],
            "additional_notes": [
                "Highlight any innovative or particularly effective methods used in the example that could be adapted for your response.",
                "Consider the context in which the example was effective—cultural, educational, or disciplinary perspectives might influence how the response is crafted."
            ],
            "tool_call": "Use a function call to retrieve the example prompt and response pair for analysis.",
            "example_call": "{{'question_number': ['q1']}}",
        }
    ),
    Task(
        task_name="Develop Response Strategy",
        details={
            "description": "Based on insights gained from the analysis of the example response, this task focuses on formulating a comprehensive strategy to address the current test question effectively. The strategy should integrate the key structural components, argumentative techniques, and evidence-handling methods identified previously to ensure a coherent and persuasive response.",
            "instructions": [
                "Synthesize the findings from the previous analysis task into a cohesive strategy document.",
                "Outline how each identified successful technique will be adapted to fit the specific requirements and context of the current prompt.",
                "Develop a structured plan that specifies the introduction, development of arguments, integration of evidence, and conclusion.",
                "Ensure the strategy is flexible enough to accommodate potential variations in the prompt's requirements or unexpected insights gained during the drafting process."
            ],
            "additional_notes": [
                "The strategy should be documented clearly and concisely to serve as a guideline during the response drafting stage.",
                "Consider peer review or feedback mechanisms if possible, to validate and refine the strategy before proceeding to draft."
            ]
        }
    ),
    Task(
        task_name="Draft a Numbered Response Outline",
        details={
            "description": "Utilizing the developed response strategy, this task involves drafting a detailed and numbered outline that maps out the structure of the intended response. This outline should mirror the logical flow, clarity, and analytical depth required by the prompt, serving as a foundational blueprint for the subsequent detailed drafting.",
            "instructions": [
                "Start with an introduction that sets the context and states the thesis clearly.",
                "List the main points that will form the body of the response, detailing the argument and evidence planned for each section.",
                "Conclude with a summary that reinforces the thesis and encapsulates the main arguments made in the body.",
                "Ensure each section is numbered and clearly delineated to facilitate easy navigation and organization during the drafting process."
            ],
            "example": {
                "Example Outline Format": "1. Introduction with thesis statement\n2. Body section 1 with evidence point\n3. Body section 2 with another evidence point\n4. Conclusion"
            },
            "additional_notes": [
                "This outline should not only serve as a guide for drafting but also as a checklist to ensure all critical points are covered.",
                "Revise the outline as necessary to reflect any new insights or adjustments in the response strategy."
            ]
        }
    ),
    Task(
        task_name="Iteratively Draft Each Section of the Response",
        details={
            "description": "This task involves the detailed drafting of each section of the response as outlined previously. The focus is on ensuring that each section is well-articulated, logically coherent, and supports the overarching thesis of the response. Iterative drafting allows for refinement and ensures alignment with the response strategy and outline.",
            "instructions": [
                "Begin by drafting the introduction, setting the tone and context for the response, and clearly stating the thesis.",
                "Proceed to draft each body section, elaborating on the main points with appropriate evidence and analysis as planned in the outline.",
                "Ensure each body section is interconnected, smoothly transitioning to maintain a cohesive argument throughout.",
                "Conclude with a strong summary that reiterates the thesis and synthesizes the main arguments discussed.",
                "Review and revise each section iteratively to improve clarity, flow, and impact, making adjustments as necessary based on the evolving understanding of the topic."
            ],
            "example": {
                "Example Drafted Section": "Introduction: [Draft text of introduction here, emphasizing the thesis and setting the tone for the subsequent sections.]"
            },
            "additional_notes": [
                "This drafting process should be iterative; don't hesitate to revisit earlier sections as you gain more insight or as the argument develops.",
                "Consider peer feedback on drafted sections to enhance clarity and effectiveness."
            ]
        }
    ),
    Task(
        task_name="Synthesize Sections into a Draft",
        details={
            "description": "After drafting individual sections, this task involves combining them into a single, cohesive final draft. The objective is to ensure that the document flows logically from introduction to conclusion, maintaining a unified argument that effectively addresses the prompt. This synthesis is crucial for ensuring that the response reads as a well-organized, integrated whole rather than as disjointed parts.",
            "instructions": [
                "Combine the drafted sections starting with the introduction, followed by the body sections, and ending with the conclusion.",
                "Ensure that transitions between sections are smooth and logical, enhancing the overall flow and readability of the document.",
                "Check that the final draft maintains a consistent style, tone, and voice throughout, which are important for presenting a professional and coherent argument.",
                "Review the entire document to ensure that it aligns with the response strategy and meets the structural and content expectations outlined previously."
            ],
            "example": {
                "Model Response Example": "Refer to the structure and length of the example response (essay) as a benchmark for the final draft."
            },
            "additional_notes": [
                "Consider the overall narrative arc of the response to ensure it effectively builds towards a convincing conclusion.",
                "Revisit the introduction after completing the body and conclusion to ensure it accurately reflects the depth and scope of the argument discussed."
            ]
        }
    ),
Task(
    task_name="Draft Review",
    details={
        "description": "This final review task is crucial for ensuring that the complete document meets the established criteria, drawing on insights and structures developed in previous tasks. It involves a detailed comparison with a similar prompt-answer pair to check for structural and thematic consistency, ensuring the response aligns with standard response formats and expectations.",
        "instructions": [
            "Use the 'retrieve_instructions' function to fetch a prompt and answer pair for a similar question, ensuring alignment with standard response formats and expectations.",
            "Review each section of the document to confirm it follows the logical flow and depth outlined, comparing it with the retrieved example where necessary.",
            "Check that the thesis is clearly stated in the introduction and is effectively supported throughout the body sections.",
            "Verify that the conclusion effectively summarizes the arguments and reinforces the thesis.",
            "Ensure that each section transitions smoothly into the next, maintaining a coherent narrative flow.",
            "Assess the use of evidence to ensure it is pertinent and effectively integrated into the argument."
        ],
        "additional_notes": [
            "Maintain originality in each section while addressing the specifics of the test question effectively.",
            "Pay special attention to the synthesis of information from provided sources, ensuring accurate representation and logical argumentation.",
            "Review formatting and grammar to ensure the document is well-presented and free of errors.",
            """
            Here is typical feedback that you have received for a prior draft. Make sure you are addressing the previous concerns:
            Based on the GRE® Scoring Guide provided, the essay you've written would likely receive a Score 5 (out of 6). Here's the rationale for this assessment:

            Clear and Well-Considered Position: The essay presents a clear and articulated position that cooperation rather than competition is essential for nurturing future leaders capable of tackling modern societal complexities. This aligns well with the task's requirements.
            Development with Logically Sound Reasons and Examples: The position is developed using logically sound reasons and well-chosen examples, such as the collaboration on the international space station to illustrate effective teamwork leading to significant achievements. However, the depth of analysis and the variety of examples might benefit from further expansion to fully realize a score of 6.
            Focus and Organization: The essay maintains a general focus and organization. It logically structures the argument from introduction through to conclusion, though there could be smoother transitions and a more nuanced exploration of competing viewpoints to enhance the logical flow and depth of analysis.
            Clarity and Appropriateness of Language: The essay uses clear and appropriate language, employing a decent range of vocabulary and sentence structures. It conveys ideas effectively, although to achieve a score of 6, the essay could benefit from even more varied sentence structures and more precise vocabulary to enhance clarity and impact.
            Conventions of Standard Written English: The essay demonstrates a good command of standard written English, with only minor errors. The grammatical structure is solid, supporting the overall clarity and readability of the essay.
            A section is considered complete once there are no more revisions required. If there are revisions recommended then go back to Task Synthesize Sections into a Draft.
            """,
            "BE VERY CRITICIAL. TRY TO POKE HOLES AS MUCH AS YOU CAN. THE DRAFT NEEDS TO BE AT PHD DISSERTATION LEVEL SOPHISTICATION"
        ],
        "tool_call": "Use a function to retrieve the instructions for this question",
        "example_call": "{{'question_number': ['q1']}}",
        "output_format": {
            "Section Review": "Detailed feedback for each section",
            "Draft Quality": "Assessment of argumentation and evidence integration",
            "Final Verdict": "PASS or FAIL based on the established criteria",
            "Additional Comments": "Feedback on specific areas for improvement or commendation"
        }
    }
),
Task(
    task_name="Revise with Review Output",
    details={
        "description": "This task focuses on redrafting the response based on the detailed feedback and assessments provided in the 'Draft Review' task. The objective is to refine the document to ensure it meets all established criteria, enhancing clarity, coherence, and argumentative strength based on the review outputs.",
        "instructions": [
            "Analyze the feedback provided in the 'Section Review', 'Draft Quality', and 'Final Verdict' components from the Draft Review.",
            "Identify key areas for improvement—these may include strengthening the argumentation, clarifying the thesis, enhancing the transitions between sections, or correcting grammatical and formatting errors.",
            "Implement the necessary revisions in each section of the document, focusing on the areas highlighted in the feedback.",
            "Revisit the evidence used in the response to ensure it aligns well with the thesis and supports the overall argument effectively.",
            "Ensure that all revisions maintain the logical flow and coherence of the response, enhancing its overall persuasive impact."
        ],
        "additional_notes": [
            "Keep track of changes made during this revision phase to facilitate further reviews if necessary.",
            "Consider seeking additional feedback after revisions to ensure all issues have been adequately addressed and the response is as strong as possible.",

        ],
        "output_format": {
            "Revised Sections": "Detailed documentation of changes made to each section",
            "Improvements Made": "List of improvements based on the feedback",
            "Re-Review Needed": "Indicate whether additional review is required after revisions"
        }
    }
),
    # TODO: Can we do one section at a time
Task(
        task_name="Redraft",
        details={
            "description": "Redraft with recommended revisions.",
            "instructions": "Look at revisions that are required and redraft.",
        },
    ),
Task(
        task_name="Finish Essay",
        details={
            "description": "Pop context to finish this question.",
            "instructions": "A section is considered complete once there are no more revisions required. If there are revisions recommended then go back to Task Synthesize Sections into a Draft - IN THIS CASE, DO NOT CALL pop_context.",
            "tool_call": "Use the pop_context function.",
            "example_call": "{{'current_question_number': ['next_question_number']}}",
        },
    ),
]

# TODO: Have a way to do automatic tagging of "last section" i.e. "A section is considered complete once the ... is complete"
general_comments = """
============
General comments:
Explicitly print out the task you are completing currently.
Explicitly provide a detailed and appropriate response for every task.
The most important thing for you to understand: The primary goal of the tasks is to answer the test question that you have been presented.
A section is considered complete once there are no more revisions required. If there are revisions recommended then go back to Task Synthesize Sections into a Draft.

If a function call returns an error then try again with parameters, or make a different function call.
If task has not completed successfully, try again with an altered response.
If you encounter empty messages repeatedly in the chat history, reorient yourself by revisiting the last task completed. Check that the sequence of past tasks progresses in logical order. If not, assess and adjust accordingly.

Do not ever return a tool or function call with the name 'multi_tool_use.parallel'
=============
"""

initial_user_message = """
Please see system message for instructions. Answer the question while being cognizant of the criteria for a score of 6.

A section is considered complete once there are no more revisions required. If there are revisions recommended then go back to Task 'Synthesize Sections into a Draft'.
"""

pre_algo_instruct = """
I am going to give you step by step instructions on how to draft a free response to a test question.
Below you will find a json object that contains the index of test questions that need to be responded to.
The keys of the json are the questions numbers (q1) of the free response section of a test. The values are the respective topics.
"""

post_algo_instruct = """
We will look at a completed example free response test section that is similar to the test to be worked on.
Its full content can be queried with a function (example_question_text_getter) and used as an example (in json format).
The keys of the json are the question numbers (q1) of the free response test section and the values contain the questions and answers.
Question n of the examples lines up with question n in the test section being worked on.
"""

job_description = JobDescription(
    role="You are a professional test taker AI agent. You have the ability to call outside functions.",
    context="Free response test sections to be responded to:",
    task_list=task_library,
    tool_implementations_class=GREToolImplementations,
    pre_context_instruct=pre_algo_instruct,
    post_context_instruct=post_algo_instruct,
    general_comments=general_comments,
    initial_user_message=initial_user_message,
)